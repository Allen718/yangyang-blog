(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{392:function(n,e,t){"use strict";t.r(e);var i=t(42),s=Object(i.a)({},(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h2",{attrs:{id:"mixin-extend"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mixin-extend"}},[n._v("#")]),n._v(" mixin extend")]),n._v(" "),t("p",[n._v("例子,假如在一个页面有五个子组件，我们希望在这五个组件里面创建时打印出我出生了，然后消失的时候打印出我死亡，并记录一下，存在的时间，我们可以这样做,")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('<template>\n  <div>Child1</div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      name: "Child1"\n    };\n  },\n created(){\n     console.log(\n          if (!this.name) {\n      throw new Error("need name");\n    }\n    this.time = new Date();\n    console.log(`${this.name}出生了`);\n     )\n }\n beforeDestroy() {\n    const now = new Date();\n    console.log(`${this.name}死亡了，共生存了 ${now - this.time} ms`);\n  }\n};\n<\/script>\n父组件\n<template>\n  <div id="app">\n    <Child1 v-if="child1Visible"/>\n    <button @click="child1Visible = false">x</button>\n    <Child2 v-if="child2Visible"/>\n    <button @click="child2Visible = false">x</button>\n    <Child3 v-if="child3Visible"/>\n    <button @click="child3Visible = false">x</button>\n    <Child4 v-if="child4Visible"/>\n    <button @click="child4Visible = false">x</button>\n    <Child5 v-if="child5Visible"/>\n    <button @click="child5Visible = false">x</button>\n  </div>\n</template>\n\n<script>\nimport Child1 from "./components/Child1.vue";\nimport Child2 from "./components/Child2.vue";\nimport Child3 from "./components/Child3.vue";\nimport Child4 from "./components/Child4.vue";\nimport Child5 from "./components/Child5.vue";\nexport default {\n  name: "App",\n  data() {\n    return {\n      child1Visible: true,\n      child2Visible: true,\n      child3Visible: true,\n      child4Visible: true,\n      child5Visible: true\n    };\n  },\n  components: {\n    Child1,\n    Child2,\n    Child3,\n    Child4,\n    Child5\n  }\n};\n<\/script>\n')])])]),t("p",[n._v("那么五个孩子是不是需要在这五个组件里面都要写，这样太重复了，最好的办法就是使用mixin ,将五个组件里面都需要的全都提出来，成为公共的。\n然后子组件里面")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('<template>\n  <div>Child1</div>\n</template>\n<script>\nimport log from "../mixins/log.js";\nexport default {\n  data() {\n    return {\n      name: "Child1"\n    };\n  },\n  mixins: [log]\n};\n<\/script>\n')])])]),t("p",[n._v("这个公共的部分")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('const log = {\n  data() {\n    return {\n      name: undefined,\n      time: undefined\n    };\n  },\n  created() {\n    if (!this.name) {\n      throw new Error("need name");\n    }\n    this.time = new Date();\n    console.log(`${this.name}出生了`);\n  },\n  beforeDestroy() {\n    const now = new Date();\n\n    console.log(`${this.name}死亡了，共生存了 ${now - this.time} ms`);\n  }\n};\n\nexport default log;\n')])])]),t("h2",{attrs:{id:"使用extend"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用extend"}},[n._v("#")]),n._v(" 使用extend")]),n._v(" "),t("ol",[t("li",[n._v("创建一个extend.js文件，内为："),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("const myvue =Vue.extend(\n    { data() {\n return {\n   name: undefined,\n   time: undefined\n };\n")])])])])]),n._v(" "),t("p",[n._v('},\ncreated() {\nif (!this.name) {\nthrow new Error("need name");\n}\nthis.time = new Date();\nconsole.log('),t("code",[n._v("${this.name}出生了")]),n._v(");\n},\nbeforeDestroy() {\nconst now = new Date();")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[n._v("console.log(`${this.name}死亡了，共生存了 ${now - this.time} ms`);\n")])])]),t("p",[n._v("}}\n)")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("使用方法\n")])])]),t("p",[n._v("import myvue from '../vue.js'\nextends:myvue")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("\n\n\n")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);