(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{378:function(a,t,s){"use strict";s.r(t);var n=s(42),r=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"单元测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单元测试"}},[a._v("#")]),a._v(" 单元测试")]),a._v(" "),s("h2",{attrs:{id:"本地测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地测试"}},[a._v("#")]),a._v(" 本地测试")]),a._v(" "),s("p",[a._v("单元测试，自动化测试 各种插件")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('npm i -D karma karma-chrome-launcher karma-mocha karma-sinon-chai mocha sinon sinon-chai karma-chai karma-chai-spies \n根目录下新建一个karma.config.js,内容看文件夹 根目录下新建一个test目录，下面新建一个button.test.js文件，然后内容参考文件 创建测试脚本 在 package.json 里面找到 scripts 并改写 scripts\n"scripts": {\n "dev-test": "parcel watch test/* --no-cache && karma start","test": "parcel build test/* --no-minify && karma start --single-run" }, //window系统中\n')])])]),s("p",[a._v("运行测试脚本 要么使用 npm run test 一次性运行,npm run dev-test 进行 watch（终端一直开着不停）")]),a._v(" "),s("h2",{attrs:{id:"远程测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#远程测试"}},[a._v("#")]),a._v(" 远程测试")]),a._v(" "),s("p",[a._v("使用外部机器来自动测试，只要在github上push一次，那么就会自动测试一次 教程 Travis ci ,使用github账号，选中需要测试仓库，本地根目录下新建一个.travis.yml的文件，并上传github，具体可以看看关于Travis 的教程")]),a._v(" "),s("h2",{attrs:{id:"发布npm包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布npm包"}},[a._v("#")]),a._v(" 发布npm包")]),a._v(" "),s("p",[a._v('发布npm包，使得我们造的轮子可以给大家使用 原则上，只有通过测试以后才可以上传，否则等着被喷死 首先去npmjs.com 官网上注册一个账号，记得一定要vertufy 邮箱，否则上传失败， 更改一下npm 的registry，淘宝源就是错误的，配置文件，C:\\Users\\Administrator.DESKTOP-P22D82G/.npmrc 注销 npm adduse 登录成功，并且不是使用淘宝源就算成功了，npm publish 上传 上传之前看一下package.json ,比如项目名，然后"main"看看入口文件 创建 index.js，在 index.js 里将你想要导出的内容全部导出 使用过程中我们发现报错说 import 语法有问题，那时因为 node 目前确实不支持 import，我们需要用 babel 转译 import 你可以要求使用者自己用 babel 来转译 你也可以转义好了再给他用 parcel build index.js --no-minify （本来不应该加 --no-minify 的，奈何不加会有 bug，HTML 压缩把 slot 标签全删了） 将 package.json 的 main 改为 dist/index.js 使用 npm link 或者 yarn link 来加速调试 你每次修改源码之后，有两条路让别人得到最新效果 更新 package.json 里的 version，然后 npm publish。别人通过 npm update xxx 来更新。 如果你只是为了本地调试，可以在项目目录使用 npm link，然后在使用之处运行 npm link xxx，就是最新了')])])}),[],!1,null,null,null);t.default=r.exports}}]);