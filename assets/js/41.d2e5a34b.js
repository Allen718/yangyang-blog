(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{367:function(t,a,s){"use strict";s.r(a);var e=s(42),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"自定义hooks管理数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义hooks管理数据"}},[t._v("#")]),t._v(" 自定义hooks管理数据")]),t._v(" "),s("ol",[s("li",[t._v("首先将标签列表tagList抽离出来，由于标签页面也会使用到这个标签的数据。src目录下新建一个叫做useTags.tsx文件.")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("import {useState} from 'react';\n\nconst useTags = () => {\n  const [tags, setTags] = useState<string[]>(['衣', '食', '住', '行']);\n  return {tags, setTags};\n};\n\nexport {useTags};\nTagsSection.tsx文件引用\nimport {useTags} from 'useTags';\n const {tags, setTags} = useTags();\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("封装findTag到自定义useTag里面，既然tags具有id了，修改一下先前路径使用tag来作为这个跳转的路径"),s("code",[t._v('<Route exact path="/tags/:id">')]),t._v(",然后link那边也修改一下"),s("code",[t._v("<Link to={'/tags/' + tag.id}>")]),t._v(" "),s("code",[t._v('<span className="oneLine">{tag.id}:{tag.name}</span>')])])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("import {useState} from 'react';\nimport {createId} from 'lib/createId';\nconst defaultTags = [\n{id: createId(), name: '衣'},\n{id: createId(), name: '食'},\n{id: createId(), name: '住'},\n{id: createId(), name: '行'},\n];\nconst useTags = () => { // 封装一个自定义 Hook\nconst [tags, setTags] = useState<{ id: number; name: string }[]>(defaultTags);\nconst findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\nreturn {tags, setTags, findTag};\n};\n然后EditeTag.tsx\nimport React from 'react';\nimport {useTags} from '../useTags';\nimport {useParams} from 'react-router-dom';\ntype Params = {\nid: string\n}\nconst Tag: React.FC = (props) => {\nconst {findTag} = useTags();\nlet {id} = useParams();\nconst tag = findTag(parseInt(id));\nreturn (\n  };\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);