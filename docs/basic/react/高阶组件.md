## 高阶组件
### 高阶函数
1. 谈到高阶组件，就会自然的提一下，高阶函数，让我们来看看什么是高阶函，数高阶函数是至少满足下列条件的函数
   - 接受一个或多个函数作为参数输入
   - 输出一个函数
  其实这样的函数我们遇见很多，显著的就是回调函数就是呀，
 ```
 let  fn = function(x, y) {
    return x + y;
    }
  setTimeout(()=>{
    console.log(hi)
    },1000)
 ```
### 高阶组件 
类比高阶函数的定义，高阶组件就是一函数接受一个组件作为参数，在函数中对组件做一系列的处理，随后返回一个新的组件作为返回值。
1. 抽象的东西还是用一个具体的来自来说明会更容易理解一些，请看例子
```
import React, {Component} from 'react'
class Home extends  Component {
    constructor(props) {
        super(props);
        this.state = {
            username: '',

        }
    }

    componentWillMount() {
        let username = localStorage.getItem('username');
        this.setState({
            username: username
        })
    }

    render() {
        return (
            <div>欢迎 {this.state.username}</div>
        )
    }
}

export default Home;
然后再另一个组件里面

import React, {Component} from 'react'

class About extends Component {
    constructor(props) {
        super(props);
        this.state = {
            username: ''
        }
    }

    componentWillMount() {
        let username = localStorage.getItem('username');
        this.setState({
            username: username
        })
    }

    render() {
        return (
            <div>你好 {this.state.username}</div>
        )
    }
}

export default About;
```
上面这两个组件虽然不同，但是两个组件有许多一样的代码，这样感觉就非常的多余。所以，我们就可以做一个高阶组件来整合。
```
import React, {Component} from 'react'
export default (WrappedComponent) => {
   return  class NewComponent extends Component {
        constructor() {
            super();
            this.state = {
                username: ''
            }
        }
        componentWillMount() {
            let username = localStorage.getItem('username');
            this.setState({
                username: username
            })
        }

        render() {
            return <WrappedComponent username={this.state.username}/>
        }
    }

   
}
```
然后分别在组件里面应用
```
import React, {Component} from 'react';
import wrapWithUsername from 'wrapWithUsername';
class Home extends Component {
    render() {
        return (
            <div>欢迎 {this.props.username}</div>
        )
    }
}

Home = wrapWithUsername(Welcome);

export default Home;

//在about组件
import React, {Component} from 'react';
import wrapWithUsername from 'wrapWithUsername';
class about extends Component {
    render() {
        return (
            <div>goodbye {this.props.username}</div>
        )
    }
}

About= wrapWithUsername(Goodbye);

export default About;
```

