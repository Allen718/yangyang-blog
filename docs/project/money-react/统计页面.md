## 统计页面的制作
1. 引入记账页面的categoriesSection部分，然后由于统计页面的支出与收入的背景颜色与记账页面的颜色不一样，在写这个组件的时候不要使用背景颜色，后期在引入组件的组件里面添加上背景颜色就可以了
```
import {CategorySection} from './Money/CategorySection';
const [category, setCategory] = useState<'-' | '+'>('-');
  <CategoryWrapper>
        <CategorySection value={category}
          onChange={value => setCategory(value)}/>
      </CategoryWrapper>
 ```
 2. 在统计页面的展示数据，由于记账时保存的tags是它的id，展示的时候我么希望展示的是它的name,那么我们就需要一个通过id去找到它的name的这么一个方法。后面发现这个方法存在bug，当我们将标签删掉了以后，那么就找不到了，所以记账的时候还是保存标签名靠谱。
 ```
  const getName = (id: number) => {
    const tag = tags.filter(t => t.id === id)[0];
    return tag ? tag.name : '';
  };
  ```
 3. 然后开始写页面html和css
 ```
 const Item = styled.div`
  display:flex;
  justify-content: space-between;
  background: white;
  font-size: 18px;
  line-height: 20px;
  padding: 10px 16px;
  > .note{
    margin-right: auto;
    margin-left: 16px;
    color: #999;
  }
`;
 <CategoryWrapper>
        <CategorySection value={category}
          onChange={value => setCategory(value)}/>
      </CategoryWrapper>
      <div>
        {records.map(r => {
          return <Item>
            <div className="tags">
              {r.tagIds.map(tagId => <span>{getName(tagId)}</span>)}
            </div>
            {r.note && <div className="note">
              {r.note}
            </div>}
            <div className="amount">
              ￥{r.amount}
            </div>
            {/*{day(r.createdAt).format('YYYY年MM月DD日')}*/}
          </Item>;
        })}
      </div>
   ```
      
   4. 需要筛选一下支出与收入的数据，目前支出与收入的数据混在一起的，我们需要分别展示
   ```
  const hash: { [K: string]: RecordItem[] } = {}; // {'2020-05-11': [item, item], '2020-05-10': [item, item], '2020-05-12': [item, item, item, item]}
  const selectedRecords = records.filter(r => r.category === category);
  selectedRecords.map(r => {
    const key = day(r.createdAt).format('YYYY年MM月DD日');
    if (!(key in hash)) {
      hash[key] = [];
    }
    hash[key].push(r);
  });
  const array = Object.entries(hash).sort((a, b) => {//关于Object.entries(),是一个将对象变为数组的公式。将key变为数组的第一项，value为第二项
    if (a[0] === b[0]) return 0;
    if (a[0] > b[0]) return -1;
    if (a[0] < b[0]) return 1;
    return 0;
  });

  {array.map(([date, records]) => <div>
        <Header>
          {date}
        </Header>
        <div>
          {records.map(r => {
            return <Item>
              <div className="tags oneLine">
                {r.tagIds
                  .map(tagId => <span key={tagId}>{getName(tagId)}</span>)
                  .reduce((result, span, index, array) =>
                    result.concat(index < array.length - 1 ? [span, '，'] : [span]), [] as ReactNode[])
                }
              </div>
              {r.note && <div className="note">
                {r.note}
              </div>}
              <div className="amount">
                ￥{r.amount}
              </div>
            </Item>;
          })}
        </div>
      </div>)}
     ```
    5. 当记账没有数据的时候，一片空白并不那么好，可以添加一个展示框，更好一些
    ```
      {array.length<=0?<ErrorWrapper><span>当前暂无记录</span>
      <Icon name={'错误'} />
      </ErrorWrapper>:''}
     ```
      