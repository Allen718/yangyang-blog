<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>创建项目 | 个人主页</title>
    <meta name="generator" content="VuePress 1.5.3">
    
    <meta name="description" content="杨杨的博客">
    <link rel="preload" href="/yangyang-blog/assets/css/0.styles.ef1ea67f.css" as="style"><link rel="preload" href="/yangyang-blog/assets/js/app.a824f6ad.js" as="script"><link rel="preload" href="/yangyang-blog/assets/js/2.8963be7f.js" as="script"><link rel="preload" href="/yangyang-blog/assets/js/22.e9b97a2f.js" as="script"><link rel="prefetch" href="/yangyang-blog/assets/js/10.8bc5e3b5.js"><link rel="prefetch" href="/yangyang-blog/assets/js/11.3288c351.js"><link rel="prefetch" href="/yangyang-blog/assets/js/12.99786987.js"><link rel="prefetch" href="/yangyang-blog/assets/js/13.16893be0.js"><link rel="prefetch" href="/yangyang-blog/assets/js/14.dbd35d51.js"><link rel="prefetch" href="/yangyang-blog/assets/js/15.08d6872f.js"><link rel="prefetch" href="/yangyang-blog/assets/js/16.b2e9a03c.js"><link rel="prefetch" href="/yangyang-blog/assets/js/17.5a114ef1.js"><link rel="prefetch" href="/yangyang-blog/assets/js/18.45f17996.js"><link rel="prefetch" href="/yangyang-blog/assets/js/19.bb7f861f.js"><link rel="prefetch" href="/yangyang-blog/assets/js/20.30d8a940.js"><link rel="prefetch" href="/yangyang-blog/assets/js/21.df50662e.js"><link rel="prefetch" href="/yangyang-blog/assets/js/23.4d4146c7.js"><link rel="prefetch" href="/yangyang-blog/assets/js/24.a3abece6.js"><link rel="prefetch" href="/yangyang-blog/assets/js/25.d23ad90c.js"><link rel="prefetch" href="/yangyang-blog/assets/js/26.bbb8c4d0.js"><link rel="prefetch" href="/yangyang-blog/assets/js/27.d5b6268d.js"><link rel="prefetch" href="/yangyang-blog/assets/js/28.96024759.js"><link rel="prefetch" href="/yangyang-blog/assets/js/29.b9e7b7b4.js"><link rel="prefetch" href="/yangyang-blog/assets/js/3.492e666a.js"><link rel="prefetch" href="/yangyang-blog/assets/js/30.cc6a8fdc.js"><link rel="prefetch" href="/yangyang-blog/assets/js/31.99421758.js"><link rel="prefetch" href="/yangyang-blog/assets/js/32.018d7e0b.js"><link rel="prefetch" href="/yangyang-blog/assets/js/33.ce4e525a.js"><link rel="prefetch" href="/yangyang-blog/assets/js/34.ca08d911.js"><link rel="prefetch" href="/yangyang-blog/assets/js/35.377c9a13.js"><link rel="prefetch" href="/yangyang-blog/assets/js/36.599923fd.js"><link rel="prefetch" href="/yangyang-blog/assets/js/37.abec2f31.js"><link rel="prefetch" href="/yangyang-blog/assets/js/38.dab08b8a.js"><link rel="prefetch" href="/yangyang-blog/assets/js/39.87e3d604.js"><link rel="prefetch" href="/yangyang-blog/assets/js/4.e3b17ef2.js"><link rel="prefetch" href="/yangyang-blog/assets/js/40.40c87c5f.js"><link rel="prefetch" href="/yangyang-blog/assets/js/41.d2e5a34b.js"><link rel="prefetch" href="/yangyang-blog/assets/js/42.7b09e708.js"><link rel="prefetch" href="/yangyang-blog/assets/js/43.15065050.js"><link rel="prefetch" href="/yangyang-blog/assets/js/44.a6da690c.js"><link rel="prefetch" href="/yangyang-blog/assets/js/45.4ded5c79.js"><link rel="prefetch" href="/yangyang-blog/assets/js/46.4b4c52a9.js"><link rel="prefetch" href="/yangyang-blog/assets/js/47.298bf686.js"><link rel="prefetch" href="/yangyang-blog/assets/js/48.1334e1af.js"><link rel="prefetch" href="/yangyang-blog/assets/js/49.96860a4c.js"><link rel="prefetch" href="/yangyang-blog/assets/js/5.cb67b430.js"><link rel="prefetch" href="/yangyang-blog/assets/js/50.d07aca54.js"><link rel="prefetch" href="/yangyang-blog/assets/js/51.6f6b1a0c.js"><link rel="prefetch" href="/yangyang-blog/assets/js/52.1ae2275e.js"><link rel="prefetch" href="/yangyang-blog/assets/js/53.ea310c17.js"><link rel="prefetch" href="/yangyang-blog/assets/js/54.c35911e6.js"><link rel="prefetch" href="/yangyang-blog/assets/js/55.b21af298.js"><link rel="prefetch" href="/yangyang-blog/assets/js/6.a746c800.js"><link rel="prefetch" href="/yangyang-blog/assets/js/7.1764c4c7.js"><link rel="prefetch" href="/yangyang-blog/assets/js/8.22ff36bb.js"><link rel="prefetch" href="/yangyang-blog/assets/js/9.051e6cac.js">
    <link rel="stylesheet" href="/yangyang-blog/assets/css/0.styles.ef1ea67f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/yangyang-blog/" class="home-link router-link-active"><img src="/yangyang-blog/image/logo.png" alt="个人主页" class="logo"> <span class="site-name can-hide">个人主页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/yangyang-blog/basic/" class="nav-link">
  基础知识
</a></div><div class="nav-item"><a href="/yangyang-blog/project/" class="nav-link router-link-active">
  项目笔记
</a></div><div class="nav-item"><a href="/yangyang-blog/mistake/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="https://github.com/Allen718/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/yangyang-blog/basic/" class="nav-link">
  基础知识
</a></div><div class="nav-item"><a href="/yangyang-blog/project/" class="nav-link router-link-active">
  项目笔记
</a></div><div class="nav-item"><a href="/yangyang-blog/mistake/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="https://github.com/Allen718/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端导航</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yangyang-blog/project/nav/导航项目.html" class="sidebar-link">项目介绍</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> 快速记账 vue版本</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> 轻松记账 react版本</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> 造轮子 vue2.0版本</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span> 造轮子 vue3.0版本</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yangyang-blog/project/GUlu/序言.html" class="sidebar-link">序言</a></li><li><a href="/yangyang-blog/project/GUlu/环境搭建.html" class="active sidebar-link">创建项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yangyang-blog/project/GUlu/环境搭建.html#开始项目" class="sidebar-link">开始项目</a></li></ul></li><li><a href="/yangyang-blog/project/GUlu/button组件.html" class="sidebar-link">开始制作button组件</a></li><li><a href="/yangyang-blog/project/GUlu/switch组件.html" class="sidebar-link">开始第一个轮子，switch组件</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="创建项目"><a href="#创建项目" class="header-anchor">#</a> 创建项目</h3> <ol><li>全局安装create-vite-app@1.18.0，在一个目录下，使用命令cva xxx或是create-vite-app xxx来为这个新项目新建一个目录。</li> <li>使用编辑器打开我们新建的项目目录，使用命令行<code>npm run dev</code>或是<code>yarn dev</code>会出现一个端口，访问端口。</li> <li>熟悉目录结构，在新建这个项目里面，我么主要关注src目录及根目录下的index.html .关注入口文件，看main.js文件，vue3关于创建组件是<code>createApp().amount('#app')</code>,vue2是<code>new Vue({el:'#app',render})</code>，发现vue3的template支持多根标签，并不像vue2不允许</li> <li>尝试自己写一个组件，并引入，在components目录下新建一个组件，并在App.vue组件里面引入这个组件，并可以成功运行.由于ts文件提示会更多一些，更严谨，所以将main.js改为main.ts。</li> <li>开始引入vue-router用于页面切换，使用命令行<code>npm info vue-router versions</code>查看版本号，引入新版，<code>npm install vue-router@4.0.0-beta.3</code>,再main.ts文件中使用，</li></ol> <div class="language- extra-class"><pre class="language-text"><code>import Home from './components/Home.vue'
import About from './components/About.vue'
import {createWebHashHistory, createRouter} from 'vue-router'
const history = createWebHashHistory()
 const router = createRouter({
 history: history,
 routes:[{path:'/',component:Home}
 {path:'/xxx',component:About}
 ]
</code></pre></div><p>6.在使用ts文件引入这些模块的时候出现报错，找不到模块，通过谷歌发现，需要创建一个文件后缀名为.d.ts的文件，然后内容为以下代码时，即可消除报错</p> <div class="language- extra-class"><pre class="language-text"><code>declare module '*.vue' {
 import { ComponentOptions } from 'vue'
 const componentOptions: ComponentOptions
 export default componentOptions
} 
</code></pre></div><ol start="7"><li>写好各页面组件以后，当添加scss样式时报错，这是因为目录中没有sass加载模块，<code>npm install sass@1.26.10</code>,安装以后终端依旧报错，根据提示，原来是需要把sass 放在package.json的 &quot;devDependencies&quot;里面。所以要么开始安装的时候需要变成命令<code>npm install -D sass@1.26.10</code>,或者手动将sass放进去，然后<code>npm install</code>也是可以的。</li></ol> <h2 id="开始项目"><a href="#开始项目" class="header-anchor">#</a> 开始项目</h2> <ol><li>正式开始项目，做一个官网，仿照vue3的官网做一个类似项目，需要两个页面。一个是首页，然后一个文档页，在src目录新建一个views目录，新建两个组件，一个叫Home.vue,另一个为Docs.vue，写上简单内容，并写好路由的路径，使用<code>router-view</code>标签确定好在App里面的渲染区域。并可以成功切换</li> <li>首页结构，上方一个导航栏，中间内容区域应该是标题和几个链接，书写HTML结构，文档页结构，同样上方一个导航栏结构，一个侧边栏，放着组件目录，中间内容区域，书写html.</li> <li>导航栏的具体分析，应该为一个左边一个Logo，右边是一些标题，位置固定定位，当为手机端，由于两个页面都需要用到这个导航栏，故写为一个单独的组件较为合适，叫做Topnav组件。</li> <li>docs组件样式书写，侧边栏为一系列组件的目录，使用routerlink标签进行页面跳转，书写aside的html ,并将aside的样式简单写书好。</li> <li>调节aside 与topnav的位置不能让重叠遮盖住相互的内容，Topnav在上面，可以使用一个z-index进行调节，让aside的内容区域下移动一些，使用padding可以做到。
6.aside的切换，分析首先需要aside可以自由的出现或隐藏，这需要在docs页面有一个类似按钮之类的，暂时决定由点击logo来切换，由于logo是Topnav里面的，而aside却是docs组件的结构，这就使得需要数据通信，具体操作为，首先在App组件里面声明一个数据，然后传出给它的子孙后代使用</li></ol> <div class="language- extra-class"><pre class="language-text"><code>import {ref,provide} from 'vue'
setup(){
    const asideVisible = ref(false)
    provide('menuVisible', menuVisible) // set
  }
  在Topnav里面注入并使用
  import { inject, Ref } from 'vue';
   &lt;div class=&quot;logo&quot; @click=&quot;toggleMenu&quot;&gt;LOGO&lt;/div&gt;
   setup(){
    const asideVisible = inject&lt;Ref&lt;boolean&gt;&gt;('asideVisible') // get
    const toggleMenu = ()=&gt;{
      menuVisible.value = !menuVisible.value
    }
    return {toggleMenu}
  } 
  docs.vue里面
  import { inject, Ref } from 'vue';
   &lt;aside v-if=&quot;menuVisible&quot;&gt;
   setup(){
     const menuVisible = inject&lt;Ref&lt;boolean&gt;&gt;('menuVisible') // get
    return {menuVisible}
  }
</code></pre></div><p>点击logo我们可以自由切换aside了</p> <ol start="7"><li>分析需求，在手机端的时候我们需要这个侧边栏自动的隐藏起来，然后再pc端的时候，让侧边栏自动出现，并且不可点击隐藏起来。这需要媒体查询，自动检测屏幕宽度，当大于500的时候</li></ol> <div class="language- extra-class"><pre class="language-text"><code>setup(){
    const width=document.documentElement.clientWidth
    const asideVisible=ref(width&lt;500?false:true)
   
</code></pre></div><p>在Topnav组件里面使用一个span标签包裹一些文字或图片专门来做aside的切换，不应该使用logo来切换并且为Pc端时不要出现这个按钮，pc 端不需要隐藏侧边栏</p> <ol start="8"><li>Topnav做成响应式，使用媒体查询，屏幕宽度为手机端的时候logo在中间。</li> <li>当使用移动端，点击aside里面的组件，路由跳转以后，应该就将侧边栏关闭，使用router.afterEach函数可以做到,不过有漏洞不是所有路由跳转都要关闭侧边栏，是点击侧边栏里面组件才需要。</li></ol> <div class="language- extra-class"><pre class="language-text"><code>import {router} from './router.ts'
 router.afterEach(()=&gt;{
      if(width&lt;=500){
        asideVisible.value=false
      }
    })
</code></pre></div><ol start="10"><li>书写docs组件的主要内容的css样式，整体布局。</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/yangyang-blog/project/GUlu/序言.html" class="prev">
        序言
      </a></span> <span class="next"><a href="/yangyang-blog/project/GUlu/button组件.html">
        开始制作button组件
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/yangyang-blog/assets/js/app.a824f6ad.js" defer></script><script src="/yangyang-blog/assets/js/2.8963be7f.js" defer></script><script src="/yangyang-blog/assets/js/22.e9b97a2f.js" defer></script>
  </body>
</html>
